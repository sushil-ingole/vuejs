(function(e){function t(t){for(var a,r,u=t[0],i=t[1],s=t[2],l=0,d=[];l<u.length;l++)r=u[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);f&&f(t);while(d.length)d.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],a=!0,r=1;r<n.length;r++){var u=n[r];0!==o[u]&&(a=!1)}a&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},o={app:0},c=[];function u(e){return i.p+"js/"+({Loader:"Loader",Login:"Login"}[e]||e)+"."+{Loader:"8f024902",Login:"1f3e182d","chunk-2d21a719":"f9a3ea7e","chunk-2d2253e5":"7377098d","chunk-9a57f6f6":"33ead542"}[e]+".js"}function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={Loader:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var a="css/"+({Loader:"Loader",Login:"Login"}[e]||e)+"."+{Loader:"a8a8863f",Login:"31d6cfe0","chunk-2d21a719":"31d6cfe0","chunk-2d2253e5":"31d6cfe0","chunk-9a57f6f6":"31d6cfe0"}[e]+".css",o=i.p+a,c=document.getElementsByTagName("link"),u=0;u<c.length;u++){var s=c[u],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===a||l===o))return t()}var d=document.getElementsByTagName("style");for(u=0;u<d.length;u++){s=d[u],l=s.getAttribute("data-href");if(l===a||l===o)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var a=t&&t.target&&t.target.src||o,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=a,delete r[e],f.parentNode.removeChild(f),n(c)},f.href=o;var b=document.getElementsByTagName("head")[0];b.appendChild(f)})).then((function(){r[e]=0})));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var c=new Promise((function(t,n){a=o[e]=[t,n]}));t.push(a[2]=c);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=u(e);var d=new Error;s=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",d.name="ChunkLoadError",d.type=a,d.request=r,n[1](d)}o[e]=void 0}};var f=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var f=l;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"07a4":function(e,t,n){"use strict";var a,r,o,c=n("ade3"),u=n("5502"),i=n("ed0a"),s=(a={},Object(c["a"])(a,i["j"],(function(e,t){e.email=t.email,e.token=t.token,e.expiresIn=t.expiresIn,e.refreshToken=t.refreshToken,e.userId=t.userId,e.autoLogout=!1})),Object(c["a"])(a,i["i"],(function(e){e.autoLogout=!0})),a),l=(r={},Object(c["a"])(r,i["d"],(function(e){return e.token})),Object(c["a"])(r,i["e"],(function(e){return!!e.token})),r),d=n("5530"),f=n("1da1"),b=(n("96cf"),n("bc3a")),h=n.n(b),g=n("42b9"),p="",m=(o={},Object(c["a"])(o,i["h"],(function(e){e.commit(i["j"],{email:null,token:null,expiresIn:null,refreshToken:null,userId:null}),localStorage.removeItem("userData"),p&&clearTimeout(p)})),Object(c["a"])(o,i["c"],(function(e){e.dispatch(i["h"]),e.commit(i["i"])})),Object(c["a"])(o,i["g"],(function(e,t){return Object(f["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",e.dispatch(i["a"],Object(d["a"])(Object(d["a"])({},t),{},{url:"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCUvy4M4_6ZXeBMWYlqsWm51we0Ux39gFc"})));case 1:case"end":return n.stop()}}),n)})))()})),Object(c["a"])(o,i["k"],(function(e,t){return Object(f["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",e.dispatch(i["a"],Object(d["a"])(Object(d["a"])({},t),{},{url:"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCUvy4M4_6ZXeBMWYlqsWm51we0Ux39gFc"})));case 1:case"end":return n.stop()}}),n)})))()})),Object(c["a"])(o,i["b"],(function(e){var t=localStorage.getItem("userData");if(t){var n=JSON.parse(t),a=n.expiresIn-(new Date).getTime();a<1e4?e.dispatch(i["c"]):p=setTimeout((function(){e.dispatch(i["c"])}),a),e.commit(i["j"],n)}})),Object(c["a"])(o,i["a"],(function(e,t){return Object(f["a"])(regeneratorRuntime.mark((function n(){var a,r,o,c,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a={email:t.email,password:t.password,returnSecureToken:!0},r="",n.prev=2,n.next=5,h.a.post(t.url,a);case 5:r=n.sent,n.next=12;break;case 8:throw n.prev=8,n.t0=n["catch"](2),o=g["a"].getErrorMessageFromCode(n.t0.response.data.error.errors[0].message),o;case 12:200===r.status&&(c=1e3*+r.data.expiresIn,p=setTimeout((function(){e.dispatch(i["c"])}),c),u={email:r.data.email,token:r.data.idToken,expiresIn:c,refreshToken:r.data.refreshToken,userId:r.data.localId},localStorage.setItem("userData",JSON.stringify(u)),e.commit(i["j"],u));case 13:case"end":return n.stop()}}),n,null,[[2,8]])})))()})),o),O={namespaced:!0,state:function(){return{token:"",email:"",userId:"",refreshToken:"",expiresIn:"",autoLogout:""}},mutations:s,getters:l,actions:m},j=Object(u["a"])({modules:{auth:O},state:function(){return{showLoading:!1}},mutations:Object(c["a"])({},i["f"],(function(e,t){e.showLoading=t}))});t["a"]=j},"42b9":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("d4ec"),r=n("bee2"),o=function(){function e(){Object(a["a"])(this,e)}return Object(r["a"])(e,null,[{key:"checkEmail",value:function(e){return!!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e)}},{key:"minLength",value:function(e,t){return!(e.length<t)}}]),e}(),c=function(){function e(t,n){Object(a["a"])(this,e),this.email=t,this.password=n}return Object(r["a"])(e,[{key:"checkValidations",value:function(){var e=[];return o.checkEmail(this.email)||(e["email"]="Invalid Email"),o.minLength(this.password,6)||(e["password"]="Password should be of atleast 6 characters"),e}}],[{key:"getErrorMessageFromCode",value:function(e){switch(e){case"EMAIL_EXISTS":return"Email already exists";case"EMAIL_NOT_FOUND":return"Email not found";case"INVALID_PASSWORD":return"Invalid passoword";default:return"Unexpected error occurred. Please try again!"}}}]),e}()},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),r={class:"container"},o={class:"row"},c={class:"col-md-12"};function u(e,t,n,u,i,s){var l=Object(a["x"])("the-navigation"),d=Object(a["x"])("the-loader"),f=Object(a["x"])("router-view");return Object(a["q"])(),Object(a["d"])(a["a"],null,[Object(a["g"])(l),e.showLoading?(Object(a["q"])(),Object(a["d"])(d,{key:0})):Object(a["e"])("",!0),Object(a["g"])("div",r,[Object(a["g"])("div",o,[Object(a["g"])("div",c,[Object(a["g"])("div",null,[Object(a["g"])(f)])])])])],64)}var i=n("5530"),s=(n("d3b7"),n("3ca3"),n("ddb0"),n("ac1f"),n("5319"),{class:"navbar navbar-expand-lg navbar-light bg-light"}),l={class:"container-fluid"},d=Object(a["g"])("a",{class:"navbar-brand",href:"#"},"Navbar",-1),f=Object(a["g"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(a["g"])("span",{class:"navbar-toggler-icon"})],-1),b={class:"collapse navbar-collapse",id:"navbarSupportedContent"},h={class:"navbar-nav me-auto mb-2 mb-lg-0"},g={class:"nav-item"},p=Object(a["f"])("Home"),m={key:0,class:"nav-item"},O=Object(a["f"])("Login"),j={key:1,class:"nav-item"},v=Object(a["f"])("Signup"),k={key:2,class:"nav-item"},y=Object(a["f"])("Posts"),w={key:3,class:"nav-item"},L=Object(a["g"])("form",{class:"d-flex"},[Object(a["g"])("input",{class:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search"}),Object(a["g"])("button",{class:"btn btn-outline-success",type:"submit"},"Search")],-1);function x(e,t,n,r,o,c){var u=Object(a["x"])("router-link");return Object(a["q"])(),Object(a["d"])("nav",s,[Object(a["g"])("div",l,[d,f,Object(a["g"])("div",b,[Object(a["g"])("ul",h,[Object(a["g"])("li",g,[Object(a["g"])(u,{class:"nav-link",to:"/"},{default:Object(a["D"])((function(){return[p]})),_:1})]),e.isAuthenticated?Object(a["e"])("",!0):(Object(a["q"])(),Object(a["d"])("li",m,[Object(a["g"])(u,{class:"nav-link",to:"/login"},{default:Object(a["D"])((function(){return[O]})),_:1})])),e.isAuthenticated?Object(a["e"])("",!0):(Object(a["q"])(),Object(a["d"])("li",j,[Object(a["g"])(u,{class:"nav-link",to:"/signup"},{default:Object(a["D"])((function(){return[v]})),_:1})])),e.isAuthenticated?(Object(a["q"])(),Object(a["d"])("li",k,[Object(a["g"])(u,{class:"nav-link",to:"/posts"},{default:Object(a["D"])((function(){return[y]})),_:1})])):Object(a["e"])("",!0),e.isAuthenticated?(Object(a["q"])(),Object(a["d"])("li",w,[Object(a["g"])("a",{href:"#",class:"nav-link",onClick:t[1]||(t[1]=Object(a["F"])((function(e){return c.onLogout()}),["prevent"]))},"Logout")])):Object(a["e"])("",!0)]),L])])])}var S=n("5502"),I=n("ed0a"),T={computed:Object(i["a"])({},Object(S["c"])("auth",{isAuthenticated:I["e"]})),methods:Object(i["a"])(Object(i["a"])({},Object(S["b"])("auth",{logout:I["h"]})),{},{onLogout:function(){this.logout(),this.$router.replace("/login")}})};T.render=x;var A=T,E=Object(a["h"])((function(){return n.e("Loader").then(n.bind(null,"4968"))})),_={name:"App",computed:Object(i["a"])({},Object(S["e"])({showLoading:function(e){return e.showLoading},autoLogout:function(e){return e.auth.autoLogout}})),watch:{autoLogout:function(e,t){e&&e!=t&&this.$router.replace("/login")}},components:{TheNavigation:A,TheLoader:E},created:function(){this.$store.dispatch("auth/".concat(I["b"]))}};_.render=u;var C=_,P=n("6c02"),D=n("07a4"),M=function(){return n.e("Login").then(n.bind(null,"013f"))},N=function(){return n.e("chunk-2d2253e5").then(n.bind(null,"e422"))},q=function(){return n.e("chunk-2d21a719").then(n.bind(null,"bc13"))},U=function(){return n.e("chunk-9a57f6f6").then(n.bind(null,"2fde"))},F=[{path:"/",component:q},{path:"/login",component:M,meta:{auth:!1}},{path:"/signup",component:N,meta:{auth:!1}},{path:"/posts",component:U,meta:{auth:!0}}],R=Object(P["a"])({history:Object(P["b"])(),routes:F});R.beforeEach((function(e,t,n){"auth"in e.meta&&e.meta.auth&&!D["a"].getters["auth/".concat(I["e"])]?n("/login"):"auth"in e.meta&&!e.meta.auth&&D["a"].getters["auth/".concat(I["e"])]?n("/posts"):n()}));var W=R,z=Object(a["c"])(C);z.use(W),z.use(D["a"]),z.mount("#app")},ed0a:function(e,t,n){"use strict";n.d(t,"k",(function(){return a})),n.d(t,"g",(function(){return r})),n.d(t,"h",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return i})),n.d(t,"j",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return b}));var a="[actions] signup user",r="[actions] login user",o="[actions] logout user",c="[actions] auto logout user",u="[actions] do user auth",i="[actions] auth auto login",s="[mutations] set user token",l="[mutations] show loading spinner",d="[mutations] set auto logout",f="[getters] auth user token",b="[getters] is user authenticated"}});
//# sourceMappingURL=app.10d92197.js.map